<!DOCTYPE html>
<html>
    <head>
        <style>
            button {
                width: 500px;
                height: 200px;
                font-size: 60px;
            }
        </style>
    </head>
    <body>
        <ul>
            <li><button id="hashchange">CHANGE HASH</button></li>
            <li><button id="pushstate"> PUSH STATE</button></li>
            <li><button id="replacestate">REPLACE STATE</button></li>
        </ul>
    </body>
    <script type="text/javascript">
        window.onhashchange = function () {
            console.log('onhashchange')
        }
        window.onpopstate = function () {
            console.log('onpopstate')
        }
        
        var btn1 = document.getElementById('hashchange'),
            btn2 = document.getElementById('pushstate'),
            btn3 = document.getElementById('replacestate'),
            cnt  = 0;

        btn1.addEventListener('click', function () {
            location.href = 'onpopstate.html#2';
        });

        btn2.addEventListener('click', function () {
            location.href = 'onpopstate.html#1';
        });

        btn3.addEventListener('click', function () {
            history.replaceState({}, 'replacestate', 'onpopstate.html#2');
        });

    </script>
</html>